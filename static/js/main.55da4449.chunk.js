(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},20:function(e,t,n){},26:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),i=n(3),s=n(2),u=(n(20),n(5)),m=n(7),l=Object(a.createContext)({flagCount:0,setFlagCount:function(){},gameIsOver:!1,setGameIsOver:function(){}}),b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!(e<0||t<0||e>=n||t>=n))return n*e+t},f=function(e,t){var n=e%t;return[Math.floor(e/t),n]},d=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),c=n[0],o=n[1],d=Object(s.a)(e.board,2),O=d[0],j=d[1],v=Object(a.useState)(!1),h=Object(s.a)(v,2),C=h[0],g=h[1],E=Object(a.useContext)(l);Object(a.useEffect)((function(){o((function(t){return e.tile||t}))}),[e]);var p=e.boardSize,x=e.boardDimension,S=function(){E.setFlagCount(O.reduce((function(e,t,n){return t.isFlag?e+1:e}),0)),E.setWinner(O.reduce((function(e,t){return t.isFlag&&t.hasBomb?e+1:e}),0)===O.reduce((function(e,t){return t.hasBomb?e+1:e}),0))};return r.a.createElement("button",{onContextMenu:function(t){var n=Object(i.a)(O);n[e.index].isClicked||(n[e.index].isFlag=!n[e.index].isFlag,j(n)),S()},onClick:function(t){!function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(i.a)(O),r=a[t];if(!r.isClicked&&(!r.isFlag||n)){a[t].isClicked=!0,a[t].hasBomb&&(E.setGameIsOver(!0),a.forEach((function(t,n){return e(n,!0)})));var c=f(t,x),o=Object(s.a)(c,2),u=o[0],m=o[1];if(!a[t].hasBomb){for(var l=-1;l<2;l++)for(var d=-1;d<2;d++){var v=b(l+u,d+m,x);a[v]&&(a[t].neighbors+=a[v].hasBomb?1:0)}if(a[t].neighbors<=0)for(var h=-1;h<2;h++)for(var C=-1;C<2;C++){var g=b(h+u,C+m,x),p=a[g];p&&!p.hasBomb&&g!==t&&e(g)}}j(a)}}(e.index),S()},onMouseOver:function(e){1!==e.buttons&&2!==e.buttons||g(!0)},onMouseLeave:function(){return g(!1)},className:"tile ".concat(c.isClicked&&"inset"," ").concat(!c.isClicked&&C&&"no-bomb inset"," ").concat(c.isClicked&&!c.hasBomb&&"no-bomb"),style:{width:p/x,height:p/x}},c.isClicked&&c.hasBomb&&r.a.createElement(u.a,{icon:m.a}),(!c.isClicked||c.hasBomb)&&c.isFlag&&r.a.createElement(u.a,{style:{color:"red"},icon:m.b}),c.isClicked&&!c.hasBomb&&c.neighbors>0?c.neighbors:"")},O=(n(26),function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(700),u=Object(s.a)(i,2),m=u[0];u[1];Object(a.useEffect)((function(){o(e.board)}),[e]);var l={gridTemplateColumns:"repeat(".concat(e.dimension,", 1fr)")};return r.a.createElement("div",{className:"game-board",style:l},c.map((function(t,n){return r.a.createElement(d,{key:n,index:n,tile:t,board:[c,o],boardDimension:e.dimension,boardSize:m})})))}),j=n(13),v=n.n(j),h=n(14),C=function(e){var t=Object(h.useStopwatch)({autoStart:!0}),n=t.seconds,c=t.minutes,o=(t.start,t.pause),i=t.reset,u=Object(a.useState)(":)"),m=Object(s.a)(u,2),b=m[0],f=m[1],d=Object(a.useState)(!1),O=Object(s.a)(d,2),j=O[0],C=O[1],g=Object(a.useContext)(l);Object(a.useEffect)((function(){C(e.mouseDown)}),[e]),Object(a.useEffect)((function(){f(g.winner?"\ud83d\ude0e":g.gameIsOver?"\u2620\ufe0f":j?":o":":)")}),[j,g]),Object(a.useEffect)((function(){(g.gameIsOver||g.winner)&&o()}),[g]);var E=Object(a.useState)("one"),p=Object(s.a)(E,2);p[0],p[1];return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__text"},"0",g.mineCount-g.flagCount),r.a.createElement("button",{onClick:function(){e.onClick(),i()},className:"header__button"},r.a.createElement(v.a,{className:"emoji",text:b})),r.a.createElement("div",{className:"header__text"},c<10&&"0",c,":",n<10&&"0",n))},g=function(e){var t=Object(a.useContext)(l),n=Object(s.a)(e.dimension,2),c=n[0],o=n[1];return r.a.createElement("div",{className:"footer"},r.a.createElement("span",{className:"footer__section"},r.a.createElement("label",{htmlFor:"mines"},"Number of Mines"),r.a.createElement("input",{type:"number",min:"5",max:"".concat(c*c-1),id:"mines",value:t.mineCount,onChange:function(e){var n=Number(e.target.value);t.setMineCount(Math.max(5,Math.min(n,c*c-1)))}})),r.a.createElement("span",{className:"footer__section"},r.a.createElement("label",{htmlFor:"mines"},"size of tile grid"),r.a.createElement("input",{type:"number",min:"5",max:"".concat(c*c-1),id:"mines",value:c,onChange:function(e){var n=Number(e.target.value);o(Math.max(n,5)),t.setMineCount((function(e){return Math.min(e,n*n-1)}))}})))};var E=function(){var e=Object(a.useState)(15),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(Array(n*n).fill()),u=Object(s.a)(o,2),m=u[0],b=u[1],f=Object(a.useState)(1),d=Object(s.a)(f,2),j=d[0],v=(d[1],Object(a.useState)(!1)),h=Object(s.a)(v,2),E=h[0],p=h[1],x=Object(a.useContext)(l),S=function(){var e=Array(n*n).fill().map((function(){return{hasBomb:!1,isClicked:!1,neighbors:0,isFlag:!1}}));Object(i.a)(Array(n*n).keys()).sort((function(){return Math.random()-.5})).slice(0,x.mineCount).forEach((function(t){return e[t].hasBomb=!0})),b(e),x.setFlagCount(0),x.setGameIsOver(!1),x.setWinner(!1)};return Object(a.useEffect)((function(){S()}),[n,j,x.mineCount]),r.a.createElement("div",{className:"App",onContextMenu:function(e){return e.preventDefault()},onMouseUp:function(){return p(!1)},onMouseDown:function(){return p(!0)}},r.a.createElement(C,{mouseDown:E,onClick:S}),r.a.createElement(O,{board:m,dimension:n}),r.a.createElement(g,{dimension:[n,c]}))};o.a.render(r.a.createElement((function(e){var t=Object(a.useState)(0),n=Object(s.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(!1),u=Object(s.a)(i,2),m=u[0],b=u[1],f=Object(a.useState)(!1),d=Object(s.a)(f,2),O=d[0],j=d[1],v=Object(a.useState)(10),h=Object(s.a)(v,2),C=h[0],g=h[1];return r.a.createElement(l.Provider,{value:{flagCount:c,setFlagCount:o,gameIsOver:m,setGameIsOver:b,winner:O,setWinner:j,mineCount:C,setMineCount:g}},e.children)}),null,r.a.createElement(E,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.55da4449.chunk.js.map