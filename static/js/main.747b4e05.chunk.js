(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},20:function(e,t,n){},26:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(12),o=n.n(r),i=n(3),s=n(2),u=(n(20),n(5)),b=n(7),l=Object(a.createContext)({flagCount:0,setFlagCount:function(){},gameIsOver:!1,setGameIsOver:function(){}}),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!(e<0||t<0||e>=n||t>=n))return n*e+t},m=function(e,t){var n=e%t;return[Math.floor(e/t),n]},O=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),r=n[0],o=n[1],O=Object(s.a)(e.board,2),d=O[0],j=O[1],v=Object(a.useState)(!1),h=Object(s.a)(v,2),C=h[0],g=h[1],E=Object(a.useContext)(l);Object(a.useEffect)((function(){o((function(t){return e.tile||t}))}),[e]);var k=e.boardSize,p=e.boardDimension,S=function(){E.setFlagCount(d.reduce((function(e,t,n){return t.isFlag?e+1:e}),0)),E.setWinner(d.reduce((function(e,t){return t.isFlag&&t.hasBomb?e+1:e}),0)===d.reduce((function(e,t){return t.hasBomb?e+1:e}),0))};return c.a.createElement("button",{onContextMenu:function(t){var n=Object(i.a)(d);n[e.index].isClicked||(n[e.index].isFlag=!n[e.index].isFlag,j(n)),S()},onClick:function(t){!function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(i.a)(d),c=a[t];if(!c.isClicked&&(!c.isFlag||n)){a[t].isClicked=!0,a[t].hasBomb&&(E.setGameIsOver(!0),a.forEach((function(t,n){return e(n,!0)})));var r=m(t,p),o=Object(s.a)(r,2),u=o[0],b=o[1];if(!a[t].hasBomb){for(var l=-1;l<2;l++)for(var O=-1;O<2;O++){var v=f(l+u,O+b,p);a[v]&&(a[t].neighbors+=a[v].hasBomb?1:0)}if(a[t].neighbors<=0)for(var h=-1;h<2;h++)for(var C=-1;C<2;C++){var g=f(h+u,C+b,p),k=a[g];k&&!k.hasBomb&&g!==t&&e(g)}}j(a)}}(e.index),S()},onMouseOver:function(e){1!==e.buttons&&2!==e.buttons||g(!0)},onMouseLeave:function(){return g(!1)},className:"tile ".concat(r.isClicked&&"inset"," ").concat(!r.isClicked&&C&&"no-bomb inset"," ").concat(r.isClicked&&!r.hasBomb&&"no-bomb"),style:{width:k/p,height:k/p}},r.isClicked&&r.hasBomb&&c.a.createElement(u.a,{icon:b.a}),(!r.isClicked||r.hasBomb)&&r.isFlag&&c.a.createElement(u.a,{style:{color:"red"},icon:b.b}),r.isClicked&&!r.hasBomb&&r.neighbors>0?r.neighbors:"")},d=(n(26),function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(700),u=Object(s.a)(i,2),b=u[0];u[1];Object(a.useEffect)((function(){o(e.board)}),[e]);var l={gridTemplateColumns:"repeat(".concat(e.dimension,", 1fr)")};return c.a.createElement("div",{className:"game-board",style:l},r.map((function(t,n){return c.a.createElement(O,{key:n,index:n,tile:t,board:[r,o],boardDimension:e.dimension,boardSize:b})})))}),j=n(13),v=n.n(j),h=n(14),C=function(e){var t=Object(h.useStopwatch)({autoStart:!0}),n=t.seconds,r=t.minutes,o=(t.start,t.pause),i=t.reset,u=Object(a.useState)(":)"),b=Object(s.a)(u,2),f=b[0],m=b[1],O=Object(a.useState)(!1),d=Object(s.a)(O,2),j=d[0],C=d[1],g=Object(a.useContext)(l);return Object(a.useEffect)((function(){C(e.mouseDown)}),[e]),Object(a.useEffect)((function(){m(g.winner?"\ud83d\ude0e":g.gameIsOver?"\u2620\ufe0f":j?":o":":)")}),[j,g]),Object(a.useEffect)((function(){(g.gameIsOver||g.winner)&&o()}),[g]),c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"header__text"},"0",g.mineCount-g.flagCount),c.a.createElement("button",{onClick:function(){e.onClick(),i()},className:"header__button"},c.a.createElement(v.a,{className:"emoji",text:f})),c.a.createElement("div",{className:"header__text"},r<10&&"0",r,":",n<10&&"0",n))};var g=function(){var e=Object(a.useState)(15),t=Object(s.a)(e,2),n=t[0],r=(t[1],Object(a.useState)(Array(n*n).fill())),o=Object(s.a)(r,2),u=o[0],b=o[1],f=Object(a.useState)(1),m=Object(s.a)(f,2),O=m[0],j=(m[1],Object(a.useState)(!1)),v=Object(s.a)(j,2),h=v[0],g=v[1],E=Object(a.useContext)(l),k=function(){var e=Array(n*n).fill().map((function(){return{hasBomb:!1,isClicked:!1,neighbors:0,isFlag:!1}}));Object(i.a)(Array(n*n).keys()).sort((function(){return Math.random()-.5})).slice(0,E.mineCount).forEach((function(t){return e[t].hasBomb=!0})),b(e),E.setFlagCount(0),E.setGameIsOver(!1),E.setWinner(!1)};return Object(a.useEffect)((function(){k()}),[n,O]),c.a.createElement("div",{className:"App",onContextMenu:function(e){return e.preventDefault()},onMouseUp:function(){return g(!1)},onMouseDown:function(){return g(!0)}},c.a.createElement(C,{mouseDown:h,onClick:k}),c.a.createElement(d,{board:u,dimension:n}))};o.a.render(c.a.createElement((function(e){var t=Object(a.useState)(0),n=Object(s.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(!1),u=Object(s.a)(i,2),b=u[0],f=u[1],m=Object(a.useState)(!1),O=Object(s.a)(m,2),d=O[0],j=O[1],v=Object(a.useState)(10),h=Object(s.a)(v,2),C=h[0];h[1];return c.a.createElement(l.Provider,{value:{flagCount:r,setFlagCount:o,gameIsOver:b,setGameIsOver:f,winner:d,setWinner:j,mineCount:C,setMineCount:C}},e.children)}),null,c.a.createElement(g,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.747b4e05.chunk.js.map